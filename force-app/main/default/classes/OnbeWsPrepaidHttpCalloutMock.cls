//Generated by FuseIT WSDL2Apex

@isTest
global class OnbeWsPrepaidHttpCalloutMock implements HttpCalloutMock {

    // Constants
    private static final String uriXmlSoapSchema = 'http://schemas.xmlsoap.org/soap/envelope/';
    private static final String uriAccountManagementPrepaidWs = 'http://ws.accountmanagementapi.prepaid.citi.com';

	public static Integer returnCode;
	public static String returnSubCode;

	public OnbeWsPrepaidHttpCalloutMock() {
		this(0, 'OK');
	}

	public OnbeWsPrepaidHttpCalloutMock(Integer returnCode, String returnSubCode) {
		OnbeWsPrepaidHttpCalloutMock.returnCode = returnCode;
		OnbeWsPrepaidHttpCalloutMock.returnSubCode = returnSubCode;
	}

	global HTTPResponse respond(HTTPRequest req){
		HttpResponse res = new HttpResponse();
		res.setHeader('Content-Type', 'application/json');
		DOM.Document responseDoc = new DOM.Document();
		DOM.XmlNode envelope = responseDoc.createRootElement('Envelope', uriXmlSoapSchema, 's');
		DOM.XmlNode bodyNode = envelope.addChildElement('Body', uriXmlSoapSchema, null);
        
		DOM.Document reqDoc = req.getBodyDocument();
		DOM.XmlNode rootNode = reqDoc.getRootElement();
		DOM.XmlNode reqBodyNode = rootNode.getChildElement('Body', uriXmlSoapSchema);
		DOM.XmlNode[] methodNode = reqBodyNode.getChildElements();

		DOM.XmlNode ResponseNode;
		if(methodNode[0].getName() == 'activateCard'){
			ResponseNode = bodyNode.addChildElement('activateCardReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'activationStatusInquiry'){
			ResponseNode = bodyNode.addChildElement('activationStatusInquiryReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'addFunds'){
			ResponseNode = bodyNode.addChildElement('addFundsReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'assignPackage'){
			ResponseNode = bodyNode.addChildElement('assignPackageReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'cardInquiry'){
			ResponseNode = bodyNode.addChildElement('cardInquiryReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'createAccount'){
			ResponseNode = bodyNode.addChildElement('createAccountReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'createBulkOrder'){
			ResponseNode = bodyNode.addChildElement('createBulkOrderReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'createPackage'){
			ResponseNode = bodyNode.addChildElement('createPackageReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'cvvInquiry'){
			ResponseNode = bodyNode.addChildElement('cvvInquiryReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'getRequestStatus'){
			ResponseNode = bodyNode.addChildElement('serviceReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'linkCard'){
			responseDoc = new DOM.Document();
			responseDoc.load('<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soapenv:Body><linkCardReturn xmlns="http://ws.accountmanagementapi.prepaid.citi.com"><ns1:code xmlns:ns1="http://response.accountmanagementapi.prepaid.citi.com">0</ns1:code><ns2:description xmlns:ns2="http://response.accountmanagementapi.prepaid.citi.com">Processed Successfully</ns2:description><ns3:existingTransaction xmlns:ns3="http://response.accountmanagementapi.prepaid.citi.com">false</ns3:existingTransaction><ns4:keyValue xmlns:ns4="http://response.accountmanagementapi.prepaid.citi.com"><item><ns5:key xmlns:ns5="http://common.accountmanagementapi.prepaid.citi.com">update-inventory</ns5:key><ns6:value xmlns:ns6="http://common.accountmanagementapi.prepaid.citi.com">processed</ns6:value></item><item><ns7:key xmlns:ns7="http://common.accountmanagementapi.prepaid.citi.com">link-card</ns7:key><ns8:value xmlns:ns8="http://common.accountmanagementapi.prepaid.citi.com">processed</ns8:value></item></ns4:keyValue><ns9:sub_code xmlns:ns9="http://response.accountmanagementapi.prepaid.citi.com">PROCESSED_SUCCESSFULLY</ns9:sub_code></linkCardReturn></soapenv:Body></soapenv:Envelope>');
		}
		else if(methodNode[0].getName() == 'setPin'){
			ResponseNode = bodyNode.addChildElement('setPinReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'updateAccountStatus'){
			ResponseNode = bodyNode.addChildElement('updateAccountStatusReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'updateRegistration'){
			ResponseNode = bodyNode.addChildElement('updateRegistrationReturn', uriAccountManagementPrepaidWs, null);
		}
		else if(methodNode[0].getName() == 'withdraw'){
			ResponseNode = bodyNode.addChildElement('withdrawReturn', uriAccountManagementPrepaidWs, null);
		}

		if (ResponseNode != null) {
			ResponseNode.addChildElement('code', 'http://response.accountmanagementapi.prepaid.citi.com', null).addTextNode(String.valueOf(returnCode));
			ResponseNode.addChildElement('sub_code', 'http://response.accountmanagementapi.prepaid.citi.com', null).addTextNode(returnSubCode);
		}

		res.setBody(responseDoc.toXmlString());
		res.setStatusCode(200);

		return res;
	}
}