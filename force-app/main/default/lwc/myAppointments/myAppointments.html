<template>
    <div class="slds-var-p-around_medium">
        <div class="title-medium">
            {labels.myAppointments}
        </div>
    </div>

    <lightning-tabset>
        <lightning-tab label={labels.scheduled}>
            <div class="slds-var-p-horizontal_medium appointment-tab">

                <!-- Hiding this feature as it's out of scope for MVP (based on the last sprint planning call) -->
                <div style="display: none;" class="slds-text-align_right slds-var-p-bottom_medium">
                    <lightning-button-group>
                        <lightning-button-icon-stateful icon-name="utility:list" variant="border-filled" class="view-button" selected={scheduledListSelected} onclick={onScheduledListButtonClick}></lightning-button-icon-stateful>
                        <lightning-button-icon-stateful icon-name="utility:date_input" variant="border-filled" class="view-button" selected={scheduledCalendarSelected} onclick={onScheduledCalendarButtonClick}></lightning-button-icon-stateful>
                    </lightning-button-group>
                </div>

                <div if:false={hasScheduledVisits} class="slds-illustration slds-illustration_small no-appointments">
                    <img src="/img/chatter/Desert.svg" class="slds-illustration__svg" alt=""/>
                    <div class="slds-text-longform">
                        <h3 class="slds-text-heading_medium">No Scheduled Appointments</h3>
                        <p class="slds-text-body_regular">Once you schedule an appointment then you can view them here!</p>
                    </div>
                </div>

                <template if:true={hasScheduledVisits} for:each={scheduledVisits} for:item="visit" for:index="visitIndex">
                    <article key={visit.id} class="slds-card slds-card_boundary" style="background-color: #f5f0ff; border-color: #8979a9;">
                        <div class="slds-card__body slds-card__body_inner">
                            <div class="slds-grid slds-wrap slds-gutters">
                                <div class="slds-col slds-size_1-of-2">
                                    <lightning-icon icon-name="utility:event" size="x-small" class="visit-icon slds-var-m-right_x-small"></lightning-icon>
                                    <strong>{visit.appointmentDate}</strong>
                                </div>
                                <div class="slds-col slds-size_1-of-2 slds-text-align_right">
                                    <lightning-icon icon-name="utility:clock" size="x-small" class="visit-icon slds-var-m-right_x-small"></lightning-icon>
                                    <strong>{visit.appointmentTime}</strong>
                                </div>
                                <div class="slds-col slds-size_1-of-1">
                                    <lightning-icon icon-name="utility:company" size="x-small" class="visit-icon slds-var-m-right_x-small"></lightning-icon>
                                    <span style="color: #8979a9;">{visit.centerName}, {visit.centerAddress}</span>
                                </div>
                                <div class="slds-col slds-size_1-of-2">
                                    <lightning-icon icon-name="utility:currency" size="x-small" class="visit-icon slds-var-m-right_x-small"></lightning-icon>
                                    <strong style="color: #99429C;">$25, 150 {labels.pointBrandName}</strong>
                                </div>
                                <div class="slds-col slds-size_1-of-2 slds-text-align_right">
                                    <strong if:true={visit.isFirstVisit} style="color: #99429C;">{visit.firstVisitCode}</strong>
                                </div>
                            </div>
                        </div>
                    </article>
                </template>
            </div>
        </lightning-tab>

        <lightning-tab label={labels.past}>
            <div class="slds-var-p-horizontal_medium">
                <div if:false={hasPastVisits} class="slds-illustration slds-illustration_small no-appointments">
                    <img src="/img/chatter/Desert.svg" class="slds-illustration__svg" alt=""/>
                    <div class="slds-text-longform">
                        <h3 class="slds-text-heading_medium">No Past Appointments</h3>
                        <p class="slds-text-body_regular">Once you complete an appointment then you can view them here!</p>
                    </div>
                </div>
    
                <template if:true={hasPastVisits} for:each={pastVisits} for:item="visit" for:index="visitIndex">
                    <article key={visit.id} class="slds-card slds-card_boundary" style="background-color: #f5f0ff; border-color: #8979a9;">
                        <div class="slds-card__body slds-card__body_inner">
                            <div class="slds-grid slds-wrap slds-gutters">
                                <div class="slds-col slds-size_1-of-2">
                                    <lightning-icon icon-name="utility:event" size="x-small" class="visit-icon slds-var-m-right_x-small"></lightning-icon>
                                    <strong>{visit.appointmentDate}</strong>
                                </div>
                                <div class="slds-col slds-size_1-of-2 slds-text-align_right">
                                    <lightning-icon icon-name="utility:clock" size="x-small" class="visit-icon slds-var-m-right_x-small"></lightning-icon>
                                    <strong>{visit.appointmentTime}</strong>
                                </div>
                                <div class="slds-col slds-size_1-of-1">
                                    <lightning-icon icon-name="utility:company" size="x-small" class="visit-icon slds-var-m-right_x-small"></lightning-icon>
                                    <span style="color: #8979a9;">{visit.centerName}, {visit.centerAddress}</span>
                                </div>
                                <div class="slds-col slds-size_1-of-2">
                                    <lightning-icon icon-name="utility:currency" size="x-small" class="visit-icon slds-var-m-right_x-small"></lightning-icon>
                                    <strong style="color: #99429C;">150 points, $25</strong>
                                </div>
                            </div>
                        </div>
                    </article>
                </template>
            </div>
        </lightning-tab>
    </lightning-tabset>
</template>