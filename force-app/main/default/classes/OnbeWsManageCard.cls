public with sharing class OnbeWsManageCard {
    //Generated by FuseIT WSDL2Apex
	//Methods Included: payoutAccountInquiry, accountInquiry
	//Methods Excluded: updateAccountProfile, reissueCard, getCommentTypes, closeEscalation, addCommentEscalation, getEscalationAssignees, getCommentCategories, getCommentTypesByCategory
	// Primary Port Class Name: AccountManagement	

	private static final String uriCardManagementMainEndpoint = 'https://webservice-qa.northlane.com:4005/CardManagementV3/services/AccountManagement';

	public class AccountManagement {
		public String endpoint_x = uriCardManagementMainEndpoint;
		public Map<String,String> inputHttpHeaders_x;
		public Map<String,String> outputHttpHeaders_x;
		public String clientCertName_x;
		public String clientCert_x;
		public String clientCertPasswd_x;
		public Integer timeout_x;
		private transient String[] ns_map_type_info = new String[]{'urn:CardManagement','cardmanagement'};
		
        public void accountInquiry() {
			OnbeWsManageCard.AccountManagement request_x = new OnbeWsManageCard.AccountManagement();
			OnbeWsManageCard.AccountManagement response_x;
		    // A map of key-value pairs that represent the response that the external service sends after receiving the request. In each pair, the key is a response identifier. The value is the response object, which is an instance of a type that is created as part of the auto-generated stub class.
			Map<String, OnbeWsManageCard.AccountManagement> response_map_x = new Map<String, OnbeWsManageCard.AccountManagement>();
			response_map_x.put('response_x', response_x);
			WebServiceCallout.invoke(
				this, // stub - An instance of the Apex class that is auto-generated from a WSDL (the stub class).
				request_x, // request - The request to the external service. The request is an instance of a type that is created as part of the auto-generated stub class.
				response_map_x, // response
				new String[]{endpoint_x, //  the URL of the external web service
					'', // The SOAP action.
					uriCardManagementMainEndpoint, // The request namespace.
					'', // The request name.
					uriCardManagementMainEndpoint, // The response namespace.
					'', //  The response name.
					'OnbeWsManageCard.AccountManagement'  // The response type.
				} 
			);
			response_x = response_map_x.get('response_x');
		}
        
		public void payoutAccountInquiry() {
			OnbeWsManageCard.AccountManagement request_x = new OnbeWsManageCard.AccountManagement();
			OnbeWsManageCard.AccountManagement response_x;
		    // A map of key-value pairs that represent the response that the external service sends after receiving the request. In each pair, the key is a response identifier. The value is the response object, which is an instance of a type that is created as part of the auto-generated stub class.
			Map<String, OnbeWsManageCard.AccountManagement> response_map_x = new Map<String, OnbeWsManageCard.AccountManagement>();
			response_map_x.put('response_x', response_x);
			WebServiceCallout.invoke(
				this, // stub - An instance of the Apex class that is auto-generated from a WSDL (the stub class).
				request_x, // request - The request to the external service. The request is an instance of a type that is created as part of the auto-generated stub class.
				response_map_x, // response
				new String[]{ endpoint_x, //  the URL of the external web service
					'', // The SOAP action.
					uriCardManagementMainEndpoint, // The request namespace.
					'', // The request name.
					uriCardManagementMainEndpoint, // The response namespace.
					'', //  The response name.
					'OnbeWsManageCard'
				} // The response type.
			);
			response_x = response_map_x.get('response_x');
		}
		
		private DOM.XmlNode populateDoc(DOM.Document doc){
			String env = 'http://schemas.xmlsoap.org/soap/envelope/';
			String xsi = 'http://www.w3.org/2001/XMLSchema-instance';
			String xsd = 'http://www.w3.org/2001/XMLSchema';
            
			DOM.XmlNode envelope = doc.createRootElement('Envelope', env, 'env');
			envelope.setNamespace('xsd', xsd);
			envelope.setNamespace('xsi', xsi);
			DOM.XmlNode header = envelope.addChildElement('Header', env, '');
			AddHeader(header);
			//System.debug(doc.toXmlString());
			DOM.XmlNode body = envelope.addChildElement('Body', env, '');
			return body;
		}

		private void AddHeader(DOM.XmlNode header){
		}

		public void accountInquiry_Http() {
			DOM.Document doc = new DOM.Document();
			DOM.XmlNode body = populateDoc(doc);
			DOM.XmlNode methodNode = body.addChildElement('accountInquiry', uriCardManagementMainEndpoint, '');			
			
			HttpRequest req = new HttpRequest();
			req.setEndpoint(endpoint_x);
			req.setMethod('POST');
			req.setHeader('Content-Type', 'text/xml; charset=UTF-8');
			req.setHeader('SOAPAction', 'blank');
			//System.debug(doc.toXmlString());
			req.setBodyDocument(doc);
			//System.debug(req.getBody());
			Http http = new Http();
			HTTPResponse res = http.send(req);
			//System.debug(res.getBody());
			Dom.Document responseDoc = res.getBodyDocument();
			Dom.XmlNode rootNode = responseDoc.getRootElement();
			Dom.XmlNode bodyNode = rootNode.getChildElement('Body','http://schemas.xmlsoap.org/soap/envelope/');
			Dom.XmlNode Node = bodyNode.getChildElement('', uriCardManagementMainEndpoint);
						
		}
 
		public void payoutAccountInquiry_Http() {
			DOM.Document doc = new DOM.Document();
			DOM.XmlNode body = populateDoc(doc);
			DOM.XmlNode methodNode = body.addChildElement('payoutAccountInquiry', uriCardManagementMainEndpoint, '');			
			
			HttpRequest req = new HttpRequest();
			req.setEndpoint(endpoint_x);
			req.setMethod('POST');
			req.setHeader('Content-Type', 'text/xml; charset=UTF-8');
			req.setHeader('SOAPAction', 'blank');
			//System.debug(doc.toXmlString());
			req.setBodyDocument(doc);
			//System.debug(req.getBody());
			Http http = new Http();
			HTTPResponse res = http.send(req);
			//System.debug(res.getBody());
			Dom.Document responseDoc = res.getBodyDocument();
			Dom.XmlNode rootNode = responseDoc.getRootElement();
			Dom.XmlNode bodyNode = rootNode.getChildElement('Body','http://schemas.xmlsoap.org/soap/envelope/');
			Dom.XmlNode Node = bodyNode.getChildElement('', uriCardManagementMainEndpoint);
		}
 	}
}